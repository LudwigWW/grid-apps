"use strict";var gs_kiri_pack=exports;!function(){function t(t,i,s){this.root={x:0,y:0,w:t,h:i},this.max={w:0,h:0},this.packed=!1,this.spacing="number"==typeof s?s:1,this.pad=this.spacing/2}t.prototype={fit:function(t){for(var i,s,h,o,n=0;n<t.length;){if(h=(s=t[n++]).w+this.spacing,o=s.h+this.spacing,!(i=this.findNode(this.root,h,o)))return this;s.fit=this.splitNode(i,h,o)}return this.packed=!0,this},findNode:function(t,i,s){return t.used?this.findNode(t.right,i,s)||this.findNode(t.down,i,s):i<=t.w&&s<=t.h?t:null},splitNode:function(t,i,s){return t.used=!0,t.down={x:t.x,y:t.y+s,w:t.w,h:t.h-s},t.right={x:t.x+i,y:t.y,w:t.w-i,h:s},this.max.w=Math.max(this.max.w,t.x+i),this.max.h=Math.max(this.max.h,t.y+s),t}},self.moto||(self.moto={}),self.moto.Pack=t}();