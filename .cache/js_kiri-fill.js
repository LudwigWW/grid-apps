"use strict";var gs_kiri_fill=exports;!function(){if(self.kiri||(self.kiri={}),self.kiri.fill)return;self.kiri;let e=self.base,i=e.util.round,n=Math.PI/180;self.kiri.fill={hex:t,grid:l,gyroid:function(i){let n=i.bounds(),t=(i.zHeight(),n.max.x-n.min.x),l=n.max.y-n.min.y,m=i.density(),x=1+15*(1-m),f=t/x,o=l/x,a=1/x;e.gyroid.slice(i.zValue()*a,500*(1-m)).polys.forEach(e=>{for(let t=0;t<=f;t++)for(let l=0;l<=o;l++){i.newline();let m=t*x+n.min.x,f=l*x+n.min.y;e.forEach(e=>{i.emit(m+e.x*x,f+e.y*x)})}})},triangle:m,linear:function(e){let i=e.bounds(),n=(e.zHeight(),i.max.x-i.min.x),t=i.max.y-i.min.y,l=e.density(),m=(e.offset(),1-l+1),x=Math.ceil(n/m),f=Math.ceil(t/m);if(e.zIndex()%2==1)for(let n=0;n<=x;n++)e.newline(),e.emit(n*m+i.min.x,i.min.y),e.emit(n*m+i.min.x,i.max.y);else for(let n=0;n<=f;n++)e.newline(),e.emit(i.min.x,n*m+i.min.y),e.emit(i.max.x,n*m+i.min.y)},bubbles:function(e){let{min:i,max:n}=e.bounds(),t=(e.slice(),e.zHeight()),l=e.lineWidth()/2,m=3/e.density(),x=m/2-l,f=l+(2-2*e.density())*l,o=m/t,a=.3*o,r=e.zIndex()%(o+a),s=r<o?Math.max(f,x*Math.sin((r+1)/o*Math.PI)):f,y=(e.zIndex()+(o+a)/2)%(o+a),d=y<o?Math.max(f,x*Math.sin((y+1)/(o+0)*Math.PI)):f;for(let t=i.x-m;t<n.x+m;t+=m){let l=0;for(let x=i.y-m;x<n.y+m;x+=m){let i=l++%2==0?m/2:0;self.base.newPolygon().centerCircle({x:t+i,y:.85*x},s,20,!0).forEachPoint(i=>{e.emit(i.x,i.y)},!0),e.newline(),self.base.newPolygon().centerCircle({x:t+i,y:.85*x+m/1.75},d,20,!0).forEachPoint(i=>{e.emit(i.x,i.y)},!0),e.newline()}}}},self.kiri.fill_fixed={hex:t,grid:l,triangle:m};function t(e){!function(e,t){let l,m,x=e.offset(),f=4*(1-e.density())+x,o=i(Math.cos(30*n)*f,7),a=i(Math.sin(30*n)*f,7),r=e.bounds(),s=!0,y=e.zIndex()%2==0,d=r.max.y+(f+2*a);if(t||y)for(l=r.min.x;!(s&&l>r.max.x)&&(s||!(l>r.max.x+o+x));){for(m=r.min.y,e.newline();m<=d;)e.emit(l,m),m+=f,e.emit(l,m),s?l+=o:l-=o,m+=a,e.emit(l,m),m+=f,e.emit(l,m),s?l-=o:l+=o,m+=a;l+=x,s&&(l+=2*o),s=!s,e.newline()}else for(m=r.min.y+f;!(s&&m>r.max.y)&&(s||!(m>r.max.y+a));){for(l=r.min.x,e.newline();l<r.max.x;)e.emit(l,m),s?m+=a:m-=a,l+=o,e.emit(l,m),l+=x,e.emit(l,m),s?m-=a:m+=a,l+=o,e.emit(l,m),l+=x;m+=f,s&&(m+=2*a),s=!s,e.newline()}}(e,!0)}function l(e){let i=e.bounds(),n=(e.zHeight(),i.max.x-i.min.x),t=i.max.y-i.min.y,l=e.density(),m=e.offset()/2,x=1+3*(1-l),f=x+m,o=n/f,a=t/x;for(let n=0;n<=o;n++){e.newline();for(let t=0;t<=a;t++){let l=n*f+i.min.x,o=t*x+i.min.y;(n+t)%2?(e.emit(l,o),e.emit(l+f-m,o+x)):(e.emit(l+f-m,o),e.emit(l,o+x))}}}function m(e){let i=e.bounds(),n=(e.zHeight(),i.max.x-i.min.x),t=i.max.y-i.min.y,l=e.density(),m=e.offset(),x=e.lineWidth()/2,f=1+5*(1-l),o=f+2*m+x,a=n/o,r=t/f;for(let n=0;n<=a;n++){e.newline();for(let t=0;t<=r;t++){let l=n*o+i.min.x,a=t*f+i.min.y;(n+t)%2?(e.emit(l,a),e.emit(l+o-m-x,a+f)):(e.emit(l+o-m-x,a),e.emit(l,a+f))}}for(let n=0;n<=a;n++){let t=n*o+i.min.x+o-x/2-m/2;e.newline(),e.emit(t,i.min.y),e.emit(t,i.max.y)}}}();